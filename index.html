<!DOCTYPE html>
<html>
<head>
  <title>Secure Web Proxy</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 600px; margin: 20px auto; padding: 20px; }
    input { width: 70%; padding: 10px; font-size: 16px; }
    button { padding: 10px 20px; background: #4285F4; color: white; border: none; cursor: pointer; }
    #error { color: red; margin-top: 10px; }
    #status { color: green; margin-top: 10px; }
  </style>
</head>
<body>
  <h2>ðŸ”’ Secure Web Proxy</h2>
  <input type="text" id="urlInput" placeholder="https://example.com" autofocus>
  <button onclick="openViaProxy()">Go</button>
  <p id="error"></p>
  <p id="status"></p>

  <script>
    async function openViaProxy() {
      const userUrl = document.getElementById("urlInput").value.trim();
      const errorElement = document.getElementById("error");
      const statusElement = document.getElementById("status");
      
      errorElement.textContent = "";
      statusElement.textContent = "";

      // Validate URL
      if (!userUrl) {
        errorElement.textContent = "Please enter a URL";
        return;
      }

      // Add https:// if missing
      let processedUrl = userUrl;
      if (!/^https?:\/\//i.test(userUrl)) {
        processedUrl = "https://" + userUrl;
      }

      // Validate URL format
      try {
        new URL(processedUrl);
      } catch (e) {
        errorElement.textContent = "Invalid URL format. Example: https://example.com";
        return;
      }

      // Encode URL for proxy
      const encodedUrl = encodeURIComponent(processedUrl);
      
      // Using CORS Anywhere with required headers
      const proxyUrl = `https://cors-anywhere.herokuapp.com/${processedUrl}`;
      
      statusElement.textContent = "Loading...";

      try {
        // First make a request with proper headers
        const response = await fetch(proxyUrl, {
          headers: {
            'Origin': window.location.origin,
            'X-Requested-With': 'XMLHttpRequest'
          }
